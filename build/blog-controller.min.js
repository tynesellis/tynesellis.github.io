/*! tynesellis.github.io 2017-11-02 */

function addBlogz(e){bloggyHTML.innerHTML="";const t=parseInt(Array.from(e.target.classList).find(e=>{if(e.startsWith("page-"))return e}).split("-")[1]);1===t?backHTML.style.display="none":(backHTML.style.display="inline",backHTML.className=`page-${t-1}`),t+1>howManyPages?nextHTML.style.display="none":(nextHTML.style.display="inline",nextHTML.className=`page-${t+1}`),retrievedBlogDB.slice((t-1)*blogsPerPage,t*blogsPerPage).forEach(function(e){bloggyHTML.innerHTML+=`\n            <h1>${e.name}</h1>\n            <h2>Date: ${e.published}</h2>\n            <article>${e.text}</article>\n        `})}const retrievedBlogDB=JSON.parse(localStorage.getItem("blogString")),bloggyHTML=document.getElementById("articles"),blogPagenatorHTML=document.getElementById("blogPageinator"),numberOfBlogs=retrievedBlogDB.length,blogsPerPage=1,howManyPages=Math.ceil(numberOfBlogs/blogsPerPage);let paginationContent="<ul class='d-flex flex-row' id='paginate'>";paginationContent+="<a href='#' id='back' class=''>&lt;</a>";for(var i=0;i<howManyPages;i++)paginationContent+=`<li><a href="#" class="blog-pages page-${i+1}">${i+1}</a></li>`;paginationContent+="<a href= '#' id='next' class='page-2'>&gt;</a>",paginationContent+="</ul>",blogPagenatorHTML.innerHTML=paginationContent;const backHTML=document.getElementById("back"),nextHTML=document.getElementById("next"),blogPageButtons=document.getElementsByClassName("blog-pages");for(let e=0;e<blogPageButtons.length;e++)blogPageButtons[e].addEventListener("click",addBlogz,!1);backHTML.addEventListener("click",addBlogz),nextHTML.addEventListener("click",addBlogz),document.getElementById("searchBlogs").addEventListener("keyup",function(){let e=event.target.value.toLowerCase();if(e.length>=3){const t=retrievedBlogDB.filter(function(t){for(let n in t)if(t[n].toString().toLowerCase().includes(e))return t});printedResults="",t.forEach(function(e){printedResults+=`\n            <article class="searchedBlogResults contentBoxes">  \n                <h4>${e.name}</h4>\n                <h5 class="text-muted">Date: ${e.published}</h5>\n                <article>${e.text.substring(0,175)}...</article>\n                <button id="${e.blogID}" class="contentBoxes">...Click for more</button>\n            </article>\n            `}),bloggyHTML.innerHTML=printedResults;const n=document.getElementsByClassName("searchedBlogResults");for(let e=0;e<n.length;e++)n[e].addEventListener("click",function(e){bloggyHTML.innerHTML="",retrievedBlogDB.forEach(function(t){t.blogID.toString()===e.target.id&&(bloggyHTML.innerHTML+=`\n                            <h1>${t.name}</h1>\n                            <h2>Date: ${t.published}</h2>\n                            <article>${t.text}</article>\n                        `)})})}}),addBlogz({target:{classList:["page-1"]}});